// Do not edit directly!
// This file was generated by cq-maven-plugin:update-doc-page
[id="quarkus-cxf-rt-ws-rm"]
= WS-ReliableMessaging
:linkattrs:
:cq-artifact-id: quarkus-cxf-rt-ws-rm
:cq-group-id: io.quarkiverse.cxf
:cq-status: Stable
:cq-deprecated: false
:cq-since: 1.5.3

ifeval::[{doc-show-badges} == true]
Stable â€¢ Since 1.5.3
endif::[]

WS-ReliableMessaging (WS-RM) is a protocol ensuring a reliable delivery of messages in a distributed environment even in presence of software, system, or network failures.

This extension provides CXF framework's https://cxf.apache.org/docs/ws-reliablemessaging.html[WS-ReliableMessaging] implementation.



[id="quarkus-cxf-rt-ws-rm-maven-coordinates"]
== Maven coordinates

Create https://{link-quarkus-code-generator}/?extension-search=quarkus-cxf-rt-ws-rm[a new project using `quarkus-cxf-rt-ws-rm` on {link-quarkus-code-generator}, window="_blank"]
or add these coordinates to your existing project:

[source,xml]
----
<dependency>
    <groupId>io.quarkiverse.cxf</groupId>
    <artifactId>quarkus-cxf-rt-ws-rm</artifactId>
</dependency>
----
ifeval::[{doc-show-user-guide-link} == true]
[TIP]
====
Check the xref:user-guide/index.adoc[User guide] and especially its
xref:user-guide/create-project.adoc#dependency-management[Dependency management] section
for more information about writing applications with {quarkus-cxf-project-name}.
====
endif::[]

[id="quarkus-cxf-rt-ws-rm-standards"]
== Supported standards

* https://cxf.apache.org/docs/ws-reliablemessaging.html[WS-ReliableMessaging]


[id="quarkus-cxf-rt-ws-rm-usage"]
== Usage

Once your application depends on `quarkus-cxf-rt-ws-rm`, WS-RM is enabled for all clients and service endpoints defined in `application.properties`.
This is due to the fact that the `quarkus.cxf.client."client-name".rm.enabled` and `quarkus.cxf.endpoint."/endpoint-path".rm.enabled`
properties are `true` by default.

Enabling WS-RM for a client or service endpoints means that https://cxf.apache.org/docs/ws-reliablemessaging.html[WS-RM interceptors] will be added to the given client or endpoint.

In addition to that you may want to set some of the options documented xref:#quarkus-cxf-rt-ws-rm-configuration[below] and/or the following WS-Addressing options:

* `xref:reference/extensions/quarkus-cxf.adoc#quarkus-cxf_quarkus-cxf-client-client-name-decoupled-endpoint[quarkus.cxf.client."client-name".decoupled-endpoint]`
* `xref:reference/extensions/quarkus-cxf.adoc#quarkus-cxf_quarkus-cxf-decoupled-endpoint-base[quarkus.cxf.decoupled-endpoint-base]`

[id="extensions-quarkus-cxf-rt-ws-rm-usage-runnable-example"]
=== Runnable example

There is an integration test covering WS-RM with a decoupled endpoint in the {quarkus-cxf-project-name} source tree.

It is split into two separate applications that communicate with each other:

* https://github.com/quarkiverse/quarkus-cxf/tree/main/test-util-parent/test-ws-rm-server-jvm[Server]
* https://github.com/quarkiverse/quarkus-cxf/tree/main/integration-tests/ws-rm-client[Client]

To run it, you need to install the server into your local Maven repository first

[source,java]
----
$ cd test-util-parent/test-ws-rm-server-jvm
$ mvn clean install
----

And then you can run the
{link-quarkus-cxf-source-tree-base}/integration-tests/ws-rm-client/src/test/java/io/quarkiverse/cxf/it/ws/rm/client/WsReliableMessagingTest.java#L28[test scenario]
implemented in the client module:

[source,java]
----
$ cd ../../integration-tests/ws-rm-client
$ mvn clean test
----

You should see the exchange of SOAP messages between the client, the server and the decoupled endpoint in the console.


[id="quarkus-cxf-rt-ws-rm-configuration"]
== Configuration

[.configuration-legend]
icon:lock[title=Fixed at build time] Configuration property fixed at build time. All other configuration properties are overridable at runtime.

[.configuration-reference.searchable, cols="80,.^10,.^10", stripes=odd]
|===
| Configuration property | Type | Default


.<| [[quarkus-cxf_quarkus-cxf-rm-namespace]]`link:#quarkus-cxf_quarkus-cxf-rm-namespace[quarkus.cxf.rm.namespace]`
.<| `string`
.<| `\http://schemas.xmlsoap.org/ws/2005/02/rm`

3+a|WS-RM version namespace: `http://schemas.xmlsoap.org/ws/2005/02/rm/` or
`http://docs.oasis-open.org/ws-rx/wsrm/200702`

*Environment variable*: `+++QUARKUS_CXF_RM_NAMESPACE+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-wsa-namespace]]`link:#quarkus-cxf_quarkus-cxf-rm-wsa-namespace[quarkus.cxf.rm.wsa-namespace]`
.<| `string`
.<| `\http://schemas.xmlsoap.org/ws/2004/08/addressing`

3+a|WS-Addressing version namespace: `http://schemas.xmlsoap.org/ws/2004/08/addressing` or
`http://www.w3.org/2005/08/addressing`. Note that this property is ignored unless you are using the
`http://schemas.xmlsoap.org/ws/2005/02/rm/` RM namespace.

*Environment variable*: `+++QUARKUS_CXF_RM_WSA_NAMESPACE+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-inactivity-timeout]]`link:#quarkus-cxf_quarkus-cxf-rm-inactivity-timeout[quarkus.cxf.rm.inactivity-timeout]`
.<| `long`
.<| 

3+a|A time duration in milliseconds after which the associated sequence will be closed if no messages (including
acknowledgments and other control messages) were exchanged between the sender and receiver during that period of
time. If not set, the associated sequence will never be closed due to inactivity.

*Environment variable*: `+++QUARKUS_CXF_RM_INACTIVITY_TIMEOUT+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-retransmission-interval]]`link:#quarkus-cxf_quarkus-cxf-rm-retransmission-interval[quarkus.cxf.rm.retransmission-interval]`
.<| `long`
.<| `3000`

3+a|A time duration in milliseconds between successive attempts to resend a message that has not been acknowledged by the
receiver.

*Environment variable*: `+++QUARKUS_CXF_RM_RETRANSMISSION_INTERVAL+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-exponential-backoff]]`link:#quarkus-cxf_quarkus-cxf-rm-exponential-backoff[quarkus.cxf.rm.exponential-backoff]`
.<| `boolean`
.<| `false`

3+a|If `true` the retransmission interval will be doubled on every transmission attempt; otherwise the retransmission
interval stays equal to `quarkus.cxf.rm.retransmission-interval` for every retransmission attempt.

*Environment variable*: `+++QUARKUS_CXF_RM_EXPONENTIAL_BACKOFF+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-acknowledgement-interval]]`link:#quarkus-cxf_quarkus-cxf-rm-acknowledgement-interval[quarkus.cxf.rm.acknowledgement-interval]`
.<| `long`
.<| 

3+a|A time duration in milliseconds within which an acknowledgement for a received message is expected to be sent by a RM
destination. If not specified, the acknowledgements will be sent immediately.

*Environment variable*: `+++QUARKUS_CXF_RM_ACKNOWLEDGEMENT_INTERVAL+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-store]]`link:#quarkus-cxf_quarkus-cxf-rm-store[quarkus.cxf.rm.store]`
.<| `string`
.<| 

3+a|A xref:user-guide/configuration.adoc#beanRefs[reference] to a `org.apache.cxf.ws.rm.persistence.RMStore` bean used to
store source and destination sequences and message references.

*Environment variable*: `+++QUARKUS_CXF_RM_STORE+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-rm-feature-ref]]`link:#quarkus-cxf_quarkus-cxf-rm-feature-ref[quarkus.cxf.rm.feature-ref]`
.<| `string`
.<| `#defaultRmFeature`

3+a|A xref:user-guide/configuration.adoc#beanRefs[reference] to a `org.apache.cxf.ws.rm.feature.RMFeature` bean to set on
clients and service endpoint which have `quarkus.cxf.++[++client++\|++service++]++."name".rm.enabled = true`.

If the value is `++#++defaultRmFeature` then Quarkus CXF creates and configures the bean for you.

*Environment variable*: `+++QUARKUS_CXF_RM_FEATURE_REF+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-client-client-name-rm-enabled]]`link:#quarkus-cxf_quarkus-cxf-client-client-name-rm-enabled[quarkus.cxf.client."client-name".rm.enabled]`
.<| `boolean`
.<| `true`

3+a|If `true` then the WS-ReliableMessaging link:https://cxf.apache.org/docs/ws-reliablemessaging.html[interceptors]
will be added to this client or service endpoint.

*Environment variable*: `+++QUARKUS_CXF_CLIENT__CLIENT_NAME__RM_ENABLED+++` +
*Since Quarkus CXF*: 2.7.0

.<| [[quarkus-cxf_quarkus-cxf-endpoint-endpoint-path-rm-enabled]]`link:#quarkus-cxf_quarkus-cxf-endpoint-endpoint-path-rm-enabled[quarkus.cxf.endpoint."/endpoint-path".rm.enabled]`
.<| `boolean`
.<| `true`

3+a|If `true` then the WS-ReliableMessaging link:https://cxf.apache.org/docs/ws-reliablemessaging.html[interceptors]
will be added to this client or service endpoint.

*Environment variable*: `+++QUARKUS_CXF_ENDPOINT___ENDPOINT_PATH__RM_ENABLED+++` +
*Since Quarkus CXF*: 2.7.0
|===

